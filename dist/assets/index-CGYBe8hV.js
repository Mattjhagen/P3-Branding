import{p as In,a as cr,i as ur,I as $s,s as Pn,b as Nn,c as Fs,m as Sn,B as D,g as fr,A as Tn,f as dr,t as Wt,k as j,d as Yt,e as Kt,n as q,h as Os,j as nt,l as ve,_ as zs,o as de,q as qe,r as Ve,u as lr,v as Ls,w as hr,x as _s,y as et,z as qs,C as pr,U as mr,D as yr,E as O,F as Be,G as Us,H as Hs,J as Ms,K as Ds,L as Gs,M as it,N as br,O as Jt,P as gr,Q as me,R as Xt,S as js,T as wr,V as at,W as vr,X as Vs,Y as Zs,Z as Ue,$ as le,a0 as Ws,a1 as Ce,a2 as _,a3 as he,a4 as Er,a5 as Ys,a6 as Qt,a7 as ct,a8 as kn,a9 as ue,aa as xr,ab as Rn,ac as He,ad as _e,ae as ut,af as ft,ag as Cn,ah as Br,ai as re,aj as Ks,ak as $n,al as Js,am as Xs,an as Ar,ao as Fn,ap as Qs,aq as Ir,ar as eo,as as to,at as no,au as ro,av as Ee,aw as $e,ax as Q,ay as Me,az as Pr,aA as so,aB as en,aC as ne,aD as oo,aE as io,aF as ao,aG as co,aH as uo,aI as On,aJ as fo,aK as lo,aL as ho,aM as po,aN as mo,aO as yo,aP as bo,aQ as Nr,aR as go,aS as Sr,aT as wo,aU as vo,aV as Eo,aW as xo,aX as Bo,aY as $t,aZ as Ao,a_ as Io,a$ as Po,b0 as No,b1 as So,b2 as To,b3 as Tr,b4 as ko,b5 as zn,b6 as Ro,b7 as Co,b8 as $o,b9 as Ln,ba as Fo,bb as Oo,bc as zo}from"./index-BglIuXkq.js";import{bz as gu,bA as wu,bB as vu,bC as Eu,bD as xu,bE as Bu,bF as Au,bG as Iu,bH as Pu,bI as Nu,bJ as Su,cC as Tu,cc as ku,cb as Ru,cd as Cu,ce as $u,bO as Fu,bd as Ou,bP as zu,bR as Lu,bS as _u,cf as qu,bZ as Uu,b_ as Hu,b$ as Mu,cE as Du,c8 as Gu,c0 as ju,bV as Vu,cg as Zu,c1 as Wu,c2 as Yu,bK as Ku,bL as Ju,be as Xu,bM as Qu,bW as ef,bQ as tf,bN as nf,bf as rf,bX as sf,cF as of,bg as af,bh as cf,ch as uf,bi as ff,ci as df,cG as lf,bj as hf,cH as pf,bk as mf,cj as yf,ck as bf,cl as gf,cm as wf,c3 as vf,c4 as Ef,c5 as xf,cn as Bf,co as Af,cp as If,cq as Pf,cr as Nf,cs as Sf,c9 as Tf,bT as kf,bY as Rf,bU as Cf,bm as $f,cD as Ff,ct as Of,ca as zf,c6 as Lf,cu as _f,c7 as qf,cv as Uf,cw as Hf,cx as Mf,bn as Df,bo as Gf,cy as jf,cz as Vf,cA as Zf,cI as Wf,cB as Yf,db as Kf,dc as Jf,dd as Xf,c_ as Qf,d0 as ed,cV as td,cW as nd,cX as rd,cY as sd,cL as od,cO as id,bp as ad,cJ as cd,d1 as ud,cN as fd,d2 as dd,d4 as ld,bu as hd,bt as pd,bw as md,bq as yd,dg as bd,d8 as gd,d9 as wd,d8 as vd,bx as Ed,cZ as xd,bs as Bd,bv as Ad,c$ as Id,cP as Pd,cQ as Nd,cR as Sd,bl as Td,cK as kd,d5 as Rd,de as Cd,df as $d,d6 as Fd,br as Od,cS as zd,cT as Ld,cU as _d,cM as qd,d7 as Ud,d8 as Hd,d7 as Md,d9 as Dd,d8 as Gd,d3 as jd,by as Vd,da as Zd}from"./index-BglIuXkq.js";import{i as dt,l as tn}from"./ccip-BsESK7a5.js";import{c as Yd,c as Kd,d as Jd,e as Xd,a as Qd,o as el,b as tl,f as nl}from"./ccip-BsESK7a5.js";import"./vendor-D7z7BunA.js";import"./web3-ldmcRN87.js";import"./ui-BxPD8bwR.js";function _n(e){let t;if(typeof e=="string")t=In(e);else{const n=cr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!ur(o)){t=In(o,n);break}}}if(!t)throw new $s({signature:e});return t}function qn(e){const t=[];if(typeof e=="string"){const n=Pn(e),r=n.length;for(let s=0;s<r;s++)t.push(Nn(n[s],{modifiers:Sn}))}else{const n=cr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(ur(o))continue;const i=Pn(o),c=i.length;for(let a=0;a<c;a++)t.push(Nn(i[a],{modifiers:Sn,structs:n}))}}if(t.length===0)throw new Fs({params:e});return t}class Lo extends D{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Un="/docs/contract/encodeEventTopics";function Ze(e){var a;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=fr({abi:t,name:n});if(!u)throw new Tn(n,{docsPath:Un});s=u}if(s.type!=="event")throw new Tn(void 0,{docsPath:Un});const o=dr(s),i=Wt(o);let c=[];if(r&&"inputs"in s){const u=(a=s.inputs)==null?void 0:a.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(c=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((p,y)=>Hn({param:d,value:f[l][y]})):typeof f[l]<"u"&&f[l]!==null?Hn({param:d,value:f[l]}):null))??[])}return[i,...c]}function Hn({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return j(Yt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Lo(e.type);return Kt([e],[t])}function lt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:c,transport:a})=>{c==="success"&&t===o&&(n[i]=a.request)})),o=>n[o]||e.request}async function kr(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:c,toBlock:a}=t,u=lt(e,{method:"eth_newFilter"}),f=o?Ze({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?q(i):i,toBlock:typeof a=="bigint"?q(a):a,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!c,type:"event"}}function _o(e){const t=j(`0x${e.substring(4)}`).substring(26);return Os(`0x${t}`)}async function qo({hash:e,signature:t}){const n=nt(e)?e:ve(e),{secp256k1:r}=await zs(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>dc);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,p=Number(l??d),y=Mn(p);return new r.Signature(de(u),de(f)).addRecoveryBit(y)}const i=nt(t)?t:ve(t);if(qe(i)!==65)throw new Error("invalid signature length");const c=Ve(`0x${i.slice(130)}`),a=Mn(c);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(a)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Mn(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Rr({hash:e,signature:t}){return _o(await qo({hash:e,signature:t}))}function Uo(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=j(lr(["0x05",Ls([t?q(t):"0x",s,n?q(n):"0x"])]));return r==="bytes"?hr(o):o}async function Cr(e){const{authorization:t,signature:n}=e;return Rr({hash:Uo(t),signature:n??t})}class Ho extends D{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var y;const p=_s({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${qs(l)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${et(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${et(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${et(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Mo(e,{docsPath:t,...n}){const r=(()=>{const s=pr(e,n);return s instanceof mr?e:s})();return new Ho(r,{docsPath:t,...n})}class Do extends D{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class nn extends D{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Go extends D{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${et(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class $r extends D{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function te(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const o=s??!1,i=n!==void 0?q(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!c)throw new $r({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||yr)(c)}async function rn(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function jo(e,t){return Fr(e,t)}async function Fr(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof c=="function"){const u=n||await O(e,te,"getBlock")({}),f=await c({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof c<"u")return c;const a=await e.request({method:"eth_maxPriorityFeePerGas"});return de(a)}catch{const[c,a]=await Promise.all([n?Promise.resolve(n):O(e,te,"getBlock")({}),O(e,rn,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new nn;const u=a-c.baseFeePerGas;return u<0n?0n:u}}async function Vo(e,t){return Ft(e,t)}async function Ft(e,t){var l,p;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var y,h;return typeof((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(i<1)throw new Do;const a=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),u=y=>y*BigInt(Math.ceil(i*a))/BigInt(a),f=n||await O(e,te,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const y=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(y!==null)return y}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new nn;const y=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Fr(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+y,maxPriorityFeePerGas:y}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await O(e,rn,"getGasPrice")({}))}}async function Or(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?q(r):n]},{dedupe:!!r});return Ve(s)}async function zr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Ve(t)}const Zo=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Dn=new Map;async function Lr(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:c,nonceManager:a,parameters:u=Zo,type:f}=t,d=n&&Be(n),l={...t,...d?{from:d==null?void 0:d.address}:{}};let p;async function y(){return p||(p=await O(e,te,"getBlock")({blockTag:"latest"}),p)}let h;async function v(){return h||(s?s.id:typeof t.chainId<"u"?t.chainId:(h=await O(e,zr,"getChainId")({}),h))}if(u.includes("nonce")&&typeof c>"u"&&d)if(a){const b=await v();l.nonce=await a.consume({address:d.address,chainId:b,client:e})}else l.nonce=await O(e,Or,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const b=Us({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const A=Hs({commitments:b,to:"hex"});l.blobVersionedHashes=A}if(u.includes("sidecars")){const A=Ms({blobs:r,commitments:b,kzg:i}),w=Ds({blobs:r,commitments:b,proofs:A,to:"hex"});l.sidecars=w}}if(u.includes("chainId")&&(l.chainId=await v()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=Gs(l)}catch{let b=Dn.get(e.uid);if(typeof b>"u"){const A=await y();b=typeof(A==null?void 0:A.baseFeePerGas)=="bigint",Dn.set(e.uid,b)}l.type=b?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const b=await y(),{maxFeePerGas:A,maxPriorityFeePerGas:w}=await Ft(e,{block:b,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new Go({maxPriorityFeePerGas:w});l.maxPriorityFeePerGas=w,l.maxFeePerGas=A}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new nn;if(typeof t.gasPrice>"u"){const b=await y(),{gasPrice:A}=await Ft(e,{block:b,chain:s,request:l,type:"legacy"});l.gasPrice=A}}return u.includes("gas")&&typeof o>"u"&&(l.gas=await O(e,sn,"estimateGas")({...l,account:d&&{address:d.address,type:"json-rpc"}})),it(l),delete l.parameters,l}async function sn(e,t){var s,o,i;const{account:n=e.account}=t,r=n?Be(n):void 0;try{const{accessList:c,authorizationList:a,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:p,gas:y,gasPrice:h,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:A,nonce:w,value:m,stateOverride:g,...S}=await Lr(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),P=(typeof d=="bigint"?q(d):void 0)||l,k=br(g),F=await(async()=>{if(S.to)return S.to;if(a&&a.length>0)return await Cr({authorization:a[0]}).catch(()=>{throw new D("`to` is required. Could not infer from `authorizationList`")})})();it(t);const N=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,T=(N||Jt)({...gr(S,{format:N}),from:r==null?void 0:r.address,accessList:c,authorizationList:a,blobs:u,blobVersionedHashes:f,data:p,gas:y,gasPrice:h,maxFeePerBlobGas:v,maxFeePerGas:b,maxPriorityFeePerGas:A,nonce:w,to:F,value:m});return BigInt(await e.request({method:"eth_estimateGas",params:k?[T,P??e.experimental_blockTag??"latest",k]:P?[T,P]:[T]}))}catch(c){throw Mo(c,{...t,account:r,chain:e.chain})}}async function Wo(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...c}=t,a=me({abi:n,args:s,functionName:o});try{return await O(e,sn,"estimateGas")({data:`${a}${i?i.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?Be(c.account):void 0;throw Xt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}const Gn="/docs/contract/decodeEventLog";function on(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...c]=s;if(!i)throw new js({docsPath:Gn});const a=t.find(h=>h.type==="event"&&i===Wt(dr(h)));if(!(a&&"name"in a)||a.type!=="event")throw new wr(i,{docsPath:Gn});const{name:u,inputs:f}=a,d=f==null?void 0:f.some(h=>!("name"in h&&h.name)),l=d?[]:{},p=f.map((h,v)=>[h,v]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<p.length;h++){const[v,b]=p[h],A=c[h];if(!A)throw new at({abiItem:a,param:v});l[d?b:v.name||b]=Yo({param:v,value:A})}const y=f.filter(h=>!("indexed"in h&&h.indexed));if(y.length>0){if(n&&n!=="0x")try{const h=vr(y,n);if(h)if(d)for(let v=0;v<f.length;v++)l[v]=l[v]??h.shift();else for(let v=0;v<y.length;v++)l[y[v].name]=h[v]}catch(h){if(o)throw h instanceof Vs||h instanceof Zs?new Ue({abiItem:a,data:n,params:y,size:qe(n)}):h}else if(o)throw new Ue({abiItem:a,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Yo({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(vr([e],t)||[])[0]}function an(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var c;try{const a=t.find(f=>f.type==="event"&&i.topics[0]===Wt(f));if(!a)return null;const u=on({...i,abi:[a],strict:s});return o&&!o.includes(u.eventName)||!Ko({args:u.args,inputs:a.inputs,matchArgs:n})?null:{...u,...i}}catch(a){let u,f;if(a instanceof wr)return null;if(a instanceof Ue||a instanceof at){if(s)return null;u=a.abiItem.name,f=(c=a.abiItem.inputs)==null?void 0:c.some(d=>!("name"in d&&d.name))}return{...i,args:f?[]:{},eventName:u}}}).filter(Boolean)}function Ko(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,c){try{return o.type==="address"?dt(i,c):o.type==="string"||o.type==="bytes"?j(Yt(i))===c:i===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const c=n[i];return c?(Array.isArray(o)?o:[o]).some(u=>s(c,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const c=n.find(u=>u.name===o);return c?(Array.isArray(i)?i:[i]).some(u=>s(c,u,t[o])):!1}):!1}async function cn(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:c,strict:a}={}){const u=a??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(h=>Ze({abi:[h],eventName:h.name,args:i?void 0:c}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?q(r):r,toBlock:typeof s=="bigint"?q(s):s}]});const p=l.map(y=>le(y));return f?an({abi:f,args:c,logs:p,strict:u}):p}async function _r(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:c,toBlock:a,strict:u}=t,f=i?fr({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return O(e,cn,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:c,toBlock:a,strict:u})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const un=BigInt(0),Ot=BigInt(1);function We(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function fn(e){if(!We(e))throw new Error("Uint8Array expected")}function De(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Qe(e){const t=e.toString(16);return t.length&1?"0"+t:t}function qr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?un:BigInt("0x"+e)}const Ur=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Jo=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ge(e){if(fn(e),Ur)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Jo[e[n]];return t}const se={_0:48,_9:57,A:65,F:70,a:97,f:102};function jn(e){if(e>=se._0&&e<=se._9)return e-se._0;if(e>=se.A&&e<=se.F)return e-(se.A-10);if(e>=se.a&&e<=se.f)return e-(se.a-10)}function rt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ur)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=jn(e.charCodeAt(o)),c=jn(e.charCodeAt(o+1));if(i===void 0||c===void 0){const a=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+o)}r[s]=i*16+c}return r}function we(e){return qr(Ge(e))}function Hr(e){return fn(e),qr(Ge(Uint8Array.from(e).reverse()))}function Ye(e,t){return rt(e.toString(16).padStart(t*2,"0"))}function Mr(e,t){return Ye(e,t).reverse()}function J(e,t,n){let r;if(typeof t=="string")try{r=rt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(We(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function st(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];fn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const xt=e=>typeof e=="bigint"&&un<=e;function dn(e,t,n){return xt(e)&&xt(t)&&xt(n)&&t<=e&&e<n}function ke(e,t,n,r){if(!dn(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Xo(e){let t;for(t=0;e>un;e>>=Ot,t+=1);return t}const ht=e=>(Ot<<BigInt(e))-Ot,Bt=e=>new Uint8Array(e),Vn=e=>Uint8Array.from(e);function Qo(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Bt(e),s=Bt(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},c=(...d)=>n(s,r,...d),a=(d=Bt(0))=>{s=c(Vn([0]),d),r=c(),d.length!==0&&(s=c(Vn([1]),d),r=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=c();const p=r.slice();l.push(p),d+=r.length}return st(...l)};return(d,l)=>{i(),a(d);let p;for(;!(p=l(u()));)a();return i(),p}}const ei={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||We(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function pt(e,t,n={}){const r=(s,o,i)=>{const c=ei[o];if(typeof c!="function")throw new Error("invalid validator function");const a=e[s];if(!(i&&a===void 0)&&!c(a,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+a)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Zn(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}function Ke(e,t){if(Se(e)>t)throw new pi({givenSize:Se(e),maxSize:t})}const oe={zero:48,nine:57,A:65,F:70,a:97,f:102};function Wn(e){if(e>=oe.zero&&e<=oe.nine)return e-oe.zero;if(e>=oe.A&&e<=oe.F)return e-(oe.A-10);if(e>=oe.a&&e<=oe.f)return e-(oe.a-10)}function ti(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new mi({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Dr(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}const ni=new TextDecoder,ri=new TextEncoder;function si(e){return e instanceof Uint8Array?e:typeof e=="string"?Gr(e):oi(e)}function oi(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Gr(e,t={}){const{size:n}=t;let r=e;n&&(Ws(e,n),r=Ce(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let c=0,a=0;c<o;c++){const u=Wn(s.charCodeAt(a++)),f=Wn(s.charCodeAt(a++));if(u===void 0||f===void 0)throw new _(`Invalid byte sequence ("${s[a-2]}${s[a-1]}" in "${s}").`);i[c]=u*16+f}return i}function ii(e,t={}){const{size:n}=t,r=ri.encode(e);return typeof n=="number"?(Ke(r,n),ai(r,n)):r}function ai(e,t){return ti(e,{dir:"right",size:t})}function Se(e){return e.length}function ci(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function ui(e,t={}){const{size:n}=t;typeof n<"u"&&Ke(e,n);const r=he(e,t);return Ys(r,t)}function fi(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Ke(r,n),r=jr(r)),r.length>1||r[0]>1)throw new hi(r);return!!r[0]}function ce(e,t={}){const{size:n}=t;typeof n<"u"&&Ke(e,n);const r=he(e,t);return Er(r,t)}function di(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Ke(r,n),r=li(r)),ni.decode(r)}function jr(e){return Dr(e,{dir:"left"})}function li(e){return Dr(e,{dir:"right"})}class hi extends _{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class pi extends _{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class mi extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}async function yi(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...c}=t,a=c.account?Be(c.account):e.account,u=me({abi:n,args:s,functionName:i});try{const{data:f}=await O(e,Qt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...c,account:a}),d=ct({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...c,account:a}}}catch(f){throw Xt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:a==null?void 0:a.address})}}const At=new Map,Yn=new Map;let bi=0;function pe(e,t,n){const r=++bi,s=()=>At.get(e)||[],o=()=>{const f=s();At.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Yn.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},c=s();if(At.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return i;const a={};for(const f in t)a[f]=(...d)=>{var p,y;const l=s();if(l.length!==0)for(const h of l)(y=(p=h.fns)[f])==null||y.call(p,...d)};const u=n(a);return typeof u=="function"&&Yn.set(e,u),i}function Je(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:o}));const a=await(n==null?void 0:n(c))??r;await kn(a);const u=async()=>{s&&(await e({unpoll:o}),await kn(r),u())};u()})(),o}const gi=new Map,wi=new Map;function vi(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,gi),r=t(e,wi);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Ei(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=vi(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const xi=e=>`blockNumber.${e}`;async function Xe(e,{cacheTime:t=e.cacheTime}={}){const n=await Ei(()=>e.request({method:"eth_blockNumber"}),{cacheKey:xi(e.uid),cacheTime:t});return BigInt(n)}async function mt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>le(o));return!("abi"in t)||!t.abi?s:an({abi:t.abi,logs:s,strict:n})}async function yt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Bi(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:c,onError:a,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const v=l??!1,b=ue(["watchContractEvent",r,s,o,e.uid,i,d,v,c]);return pe(b,{onLogs:u,onError:a},A=>{let w;c!==void 0&&(w=c-1n);let m,g=!1;const S=Je(async()=>{var E;if(!g){try{m=await O(e,kr,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:v,fromBlock:c})}catch{}g=!0;return}try{let P;if(m)P=await O(e,mt,"getFilterChanges")({filter:m});else{const k=await O(e,Xe,"getBlockNumber")({});w&&w<k?P=await O(e,_r,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:k,strict:v}):P=[],w=k}if(P.length===0)return;if(o)A.onLogs(P);else for(const k of P)A.onLogs([k])}catch(P){m&&P instanceof xr&&(g=!1),(E=A.onError)==null||E.call(A,P)}},{emitOnBegin:!0,interval:d});return async()=>{m&&await O(e,yt,"uninstallFilter")({filter:m}),S()}})})():(()=>{const v=l??!1,b=ue(["watchContractEvent",r,s,o,e.uid,i,d,v]);let A=!0,w=()=>A=!1;return pe(b,{onLogs:u,onError:a},m=>((async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),S=i?Ze({abi:n,eventName:i,args:s}):[],{unsubscribe:E}=await g.subscribe({params:["logs",{address:r,topics:S}],onData(P){var F;if(!A)return;const k=P.result;try{const{eventName:N,args:C}=on({abi:n,data:k.data,topics:k.topics,strict:l}),T=le(k,{args:C,eventName:N});m.onLogs([T])}catch(N){let C,T;if(N instanceof Ue||N instanceof at){if(l)return;C=N.abiItem.name,T=(F=N.abiItem.inputs)==null?void 0:F.some(I=>!("name"in I&&I.name))}const U=le(k,{args:T?[]:{},eventName:C});m.onLogs([U])}},onError(P){var k;(k=m.onError)==null||k.call(m,P)}});w=E,A||w()}catch(g){a==null||a(g)}})(),()=>w()))})()}async function Ai(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function ln(e){var n,r,s,o,i,c;if(!(e instanceof D))return!1;const t=e.walk(a=>a instanceof Rn);return t instanceof Rn?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((c=t.data)==null?void 0:c.errorName)==="UnsupportedResolverProfile":!1}function Vr(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return nt(t)?t:null}function zt(e){let t=new Uint8Array(32).fill(0);if(!e)return He(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Vr(n[r]),o=s?Yt(s):j(_e(n[r]),"bytes");t=j(ut([t,o]),"bytes")}return He(t)}function Ii(e){return`[${e.slice(2)}]`}function Pi(e){const t=new Uint8Array(32).fill(0);return e?Vr(e)||j(_e(e)):He(t)}function hn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(_e(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=_e(s[o]);i.byteLength>255&&(i=_e(Ii(Pi(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Ni(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return ft({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a==null?void 0:a.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[zt(o),BigInt(s)]:[zt(o)];try{const l=me({abi:Cn,functionName:"addr",args:d}),p={address:u,abi:Br,functionName:"resolveWithGateways",args:[ve(hn(o)),l,i??[tn]],blockNumber:n,blockTag:r},h=await O(e,re,"readContract")(p);if(h[0]==="0x")return null;const v=ct({abi:Cn,args:d,functionName:"addr",data:h[0]});return v==="0x"||Ks(v)==="0x00"?null:v}catch(l){if(c)throw l;if(ln(l))return null;throw l}}class Si extends D{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Le extends D{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class pn extends D{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Ti extends D{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const ki=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Ri=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ci=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,$i=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Fi(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Kn(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Zr({uri:e,gatewayUrls:t}){const n=Ci.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Kn(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Kn(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(ki),{protocol:i,subpath:c,target:a,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||c==="ipns/",d=i==="ipfs:/"||c==="ipfs/"||Ri.test(e);if(e.startsWith("http")&&!f&&!d){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((f||d)&&a)return{uri:`${r}/${f?"ipns":"ipfs"}/${a}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&a)return{uri:`${s}/${a}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace($i,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new pn({uri:e})}function Wr(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Si({data:e});return e.image||e.image_url||e.image_data}async function Oi({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await mn({gatewayUrls:e,uri:Wr(n)})}catch{throw new pn({uri:t})}}async function mn({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Zr({uri:t,gatewayUrls:e});if(r||await Fi(n))return n;throw new pn({uri:t})}function zi(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[c,a]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Le({reason:"Only EIP-155 supported"});if(!i)throw new Le({reason:"Chain ID not found"});if(!a)throw new Le({reason:"Contract address not found"});if(!s)throw new Le({reason:"Token ID not found"});if(!c)throw new Le({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:c.toLowerCase(),contractAddress:a,tokenID:s}}async function Li(e,{nft:t}){if(t.namespace==="erc721")return re(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return re(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Ti({namespace:t.namespace})}async function _i(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?qi(e,{gatewayUrls:t,record:n}):mn({uri:n,gatewayUrls:t})}async function qi(e,{gatewayUrls:t,record:n}){const r=zi(n),s=await Li(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:c}=Zr({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=c?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return mn({uri:Wr(f),gatewayUrls:t})}let a=r.tokenID;return r.namespace==="erc1155"&&(a=a.replace("0x","").padStart(64,"0")),Oi({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,a)})}async function Yr(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return ft({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a==null?void 0:a.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:Br,args:[ve(hn(o)),me({abi:$n,functionName:"text",args:[zt(o),s]}),i??[tn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await O(e,re,"readContract")(d);if(p[0]==="0x")return null;const y=ct({abi:$n,functionName:"text",data:p[0]});return y===""?null:y}catch(d){if(c)throw d;if(ln(d))return null;throw d}}async function Ui(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:c}){const a=await O(e,Yr,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:o,strict:i});if(!a)return null;try{return await _i(e,{record:a,gatewayUrls:r})}catch{return null}}async function Hi(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return ft({blockNumber:r,chain:a,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Js,args:[n,o,i??[tn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=O(e,re,"readContract"),[l]=await d(f);return l||null}catch(f){if(c)throw f;if(ln(f))return null;throw f}}async function Mi(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return ft({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),c=o==null?void 0:o.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c==null?void 0:c.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[a]=await O(e,re,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ve(hn(s))],blockNumber:n,blockTag:r});return a}async function Kr(e,t){var v,b,A;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:p,...y}=t,h=n?Be(n):void 0;try{it(t);const m=(typeof r=="bigint"?q(r):void 0)||s,g=(A=(b=(v=e.chain)==null?void 0:v.formatters)==null?void 0:b.transactionRequest)==null?void 0:A.format,E=(g||Jt)({...gr(y,{format:g}),from:h==null?void 0:h.address,blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:p}),P=await e.request({method:"eth_createAccessList",params:[E,m]});return{accessList:P.accessList,gasUsed:BigInt(P.gasUsed)}}catch(w){throw Xs(w,{...t,account:h,chain:e.chain})}}async function Di(e){const t=lt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Jr(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:c}={}){const a=s??(r?[r]:void 0),u=lt(e,{method:"eth_newFilter"});let f=[];a&&(f=[a.flatMap(p=>Ze({abi:[p],eventName:p.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?q(o):o,toBlock:typeof c=="bigint"?q(c):c,...f.length?{topics:f}:{}}]});return{abi:a,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:c,type:"event"}}async function Xr(e){const t=lt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Gi(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function ji(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?q(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Ve(o)}async function Lt(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?q(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class Vi extends D{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Zi(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,c,a,u,f,d]=await O(e,re,"readContract")({abi:Wi,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:c,chainId:Number(a),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Vi({address:n}):i}}const Wi=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Yi(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Ki(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?q(n):void 0,i=await e.request({method:"eth_feeHistory",params:[q(t),o||r,s]},{dedupe:!!o});return Yi(i)}async function Ji(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>le(o));return t.abi?an({abi:t.abi,logs:s,strict:n}):s}async function Xi({address:e,authorization:t,signature:n}){return dt(Ar(e),await Cr({authorization:t,signature:n}))}const Qi=`Ethereum Signed Message:
`;function ea(e){const t=typeof e=="string"?Fn(e):typeof e.raw=="string"?e.raw:He(e.raw),n=Fn(`${Qi}${qe(t)}`);return ut([n,t])}function Qr(e,t){return j(ea(e),t)}class ta extends D{constructor({domain:t}){super(`Invalid domain "${ue(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class na extends D{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class ra extends D{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function sa(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,c)=>{for(const a of i){const{name:u,type:f}=a,d=c[u],l=f.match(Qs);if(l&&(typeof d=="number"||typeof d=="bigint")){const[h,v,b]=l;q(d,{signed:v==="int",size:Number.parseInt(b,10)/8})}if(f==="address"&&typeof d=="string"&&!Ir(d))throw new eo({address:d});const p=f.match(to);if(p){const[h,v]=p;if(v&&qe(d)!==Number.parseInt(v,10))throw new no({expectedSize:Number.parseInt(v,10),givenSize:qe(d)})}const y=s[f];y&&(ia(f),o(y,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new ta({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new na({primaryType:r,types:s})}function oa({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function ia(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new ra({type:e})}function aa(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:oa({domain:t}),...e.types};sa({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(ca({domain:t,types:s})),r!=="EIP712Domain"&&o.push(es({data:n,primaryType:r,types:s})),j(ut(o))}function ca({domain:e,types:t}){return es({data:e,primaryType:"EIP712Domain",types:t})}function es({data:e,primaryType:t,types:n}){const r=ts({data:e,primaryType:t,types:n});return j(r)}function ts({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[ua({primaryType:t,types:n})];for(const o of n[t]){const[i,c]=rs({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(c)}return Kt(r,s)}function ua({primaryType:e,types:t}){const n=ve(fa({primaryType:e,types:t}));return j(n)}function fa({primaryType:e,types:t}){let n="";const r=ns({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:c})=>`${c} ${i}`).join(",")})`;return n}function ns({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])ns({primaryType:o.type,types:t},n);return n}function rs({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},j(ts({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},j(r)];if(n==="string")return[{type:"bytes32"},j(ve(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>rs({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},j(Kt(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class da extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const la={checksum:new da(8192)},It=la.checksum;function ss(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=ro(si(e));return n==="Bytes"?r:he(r)}const ha=/^0x[a-fA-F0-9]{40}$/;function bt(e,t={}){const{strict:n=!0}=t;if(!ha.test(e))throw new Jn({address:e,cause:new pa});if(n){if(e.toLowerCase()===e)return;if(os(e)!==e)throw new Jn({address:e,cause:new ma})}}function os(e){if(It.has(e))return It.get(e);bt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=ss(ii(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return It.set(e,s),s}function _t(e,t={}){const{strict:n=!0}=t??{};try{return bt(e,{strict:n}),!0}catch{return!1}}class Jn extends _{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class pa extends _{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class ma extends _{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const ya=/^(.*)\[([0-9]*)\]$/,ba=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,is=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Xn=2n**256n-1n;function Re(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=gn(t.type);if(o){const[i,c]=o;return wa(e,{...t,type:c},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Ba(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return ga(e,{checksum:r});if(t.type==="bool")return va(e);if(t.type.startsWith("bytes"))return Ea(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return xa(e,t);if(t.type==="string")return Aa(e,{staticPosition:s});throw new vn(t.type)}const Qn=32,qt=32;function ga(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?os(o):o)(he(ci(r,-20))),32]}function wa(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const a=ce(e.readBytes(qt)),u=o+a,f=u+Qn;e.setPosition(u);const d=ce(e.readBytes(Qn)),l=je(t);let p=0;const y=[];for(let h=0;h<d;++h){e.setPosition(f+(l?h*32:p));const[v,b]=Re(e,t,{checksumAddress:r,staticPosition:f});p+=b,y.push(v)}return e.setPosition(o+32),[y,32]}if(je(t)){const a=ce(e.readBytes(qt)),u=o+a,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Re(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const c=[];for(let a=0;a<s;++a){const[u,f]=Re(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,c.push(u)}return[c,i]}function va(e){return[fi(e.readBytes(32),{size:32}),32]}function Ea(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=ce(e.readBytes(32));e.setPosition(n+i);const c=ce(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const a=e.readBytes(c);return e.setPosition(n+32),[he(a),32]}return[he(e.readBytes(Number.parseInt(s,10),32)),32]}function xa(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ui(s,{signed:n}):ce(s,{signed:n}),32]}function Ba(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:a})=>!a),i=o?[]:{};let c=0;if(je(t)){const a=ce(e.readBytes(qt)),u=s+a;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+c);const[l,p]=Re(e,d,{checksumAddress:r,staticPosition:u});c+=p,i[o?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[i,32]}for(let a=0;a<t.components.length;++a){const u=t.components[a],[f,d]=Re(e,u,{checksumAddress:r,staticPosition:s});i[o?a:u==null?void 0:u.name]=f,c+=d}return[i,c]}function Aa(e,{staticPosition:t}){const n=ce(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ce(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=di(jr(o));return e.setPosition(t+32),[i,32]}function Ia({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(yn({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function yn({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=gn(r.type);if(s){const[o,i]=s;return Na(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Ca(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Pa(n,{checksum:e});if(r.type==="bool")return Ta(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=is.exec(r.type)??[];return ka(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Sa(n,{type:r.type});if(r.type==="string")return Ra(n);throw new vn(r.type)}function bn(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?t+=32:t+=Ee(c)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?(n.push($e(t+s,{size:32})),r.push(c),s+=Ee(c)):n.push(c)}return Q(...n,...r)}function Pa(e,t){const{checksum:n=!1}=t;return bt(e,{strict:n}),{dynamic:!1,encoded:Me(e.toLowerCase())}}function Na(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Ha(e);if(!o&&e.length!==r)throw new Ua({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const c=[];for(let a=0;a<e.length;a++){const u=yn({checksumAddress:n,parameter:s,value:e[a]});u.dynamic&&(i=!0),c.push(u)}if(o||i){const a=bn(c);if(o){const u=$e(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?Q(u,a):u}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Q(...c.map(({encoded:a})=>a))}}function Sa(e,{type:t}){const[,n]=t.split("bytes"),r=Ee(e);if(!n){let s=e;return r%32!==0&&(s=Ce(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Q(Me($e(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new cs({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ce(e)}}function Ta(e){if(typeof e!="boolean")throw new _(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Me(Pr(e))}}function ka(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new so({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:$e(e,{size:32,signed:t})}}function Ra(e){const t=en(e),n=Math.ceil(Ee(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ce(ne(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Q(Ce($e(Ee(t),{size:32})),...r)}}function Ca(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const c=r.components[i],a=Array.isArray(e)?i:c.name,u=yn({checksumAddress:n,parameter:c,value:e[a]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?bn(o):Q(...o.map(({encoded:i})=>i))}}function gn(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function je(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(je);const n=gn(e.type);return!!(n&&je({...e,type:n[1]}))}const $a={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new za({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Oa({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new er({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new er({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Fa(e,{recursiveReadLimit:t=8192}={}){const n=Object.create($a);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class er extends _{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Oa extends _{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class za extends _{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function La(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Gr(t):t,i=Fa(o);if(Se(o)===0&&e.length>0)throw new qa;if(Se(o)&&Se(o)<32)throw new _a({data:typeof t=="string"?t:he(t),parameters:e,size:Se(o)});let c=0;const a=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(c);const[d,l]=Re(i,f,{checksumAddress:s,staticPosition:0});c+=l,r==="Array"?a.push(d):a[f.name??u]=d}return a}function wn(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new us({expectedLength:e.length,givenLength:t.length});const s=Ia({checksumAddress:r,parameters:e,values:t}),o=bn(s);return o.length===0?"0x":o}function Ut(e,t){if(e.length!==t.length)throw new us({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Ut.encode(s,o))}return Q(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const a=r;return bt(a),Me(a.toLowerCase(),s?32:0)}if(n==="string")return en(r);if(n==="bytes")return r;if(n==="bool")return Me(Pr(r),s?32:1);const o=n.match(is);if(o){const[a,u,f="256"]=o,d=Number.parseInt(f,10)/8;return $e(r,{size:s?32:d,signed:u==="int"})}const i=n.match(ba);if(i){const[a,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new cs({expectedSize:Number.parseInt(u,10),value:r});return Ce(r,s?32:0)}const c=n.match(ya);if(c&&Array.isArray(r)){const[a,u]=c,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":Q(...f)}throw new vn(n)}e.encode=t})(Ut||(Ut={}));function as(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?qn(e):e}class _a extends _{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${oo(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class qa extends _{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Ua extends _{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class cs extends _{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ee(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class us extends _{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Ha extends _{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class vn extends _{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class fs extends io{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ao(t);const r=co(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),uo(o)}update(t){return On(this),this.iHash.update(t),this}digestInto(t){On(this),fo(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ds=(e,t,n)=>new fs(e,t).update(n).digest();ds.create=(e,t)=>new fs(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y=BigInt(0),V=BigInt(1),ge=BigInt(2),Ma=BigInt(3),ls=BigInt(4),hs=BigInt(5),ps=BigInt(8);function W(e,t){const n=e%t;return n>=Y?n:t+n}function K(e,t,n){let r=e;for(;t-- >Y;)r*=r,r%=n;return r}function Ht(e,t){if(e===Y)throw new Error("invert: expected non-zero number");if(t<=Y)throw new Error("invert: expected positive modulus, got "+t);let n=W(e,t),r=t,s=Y,o=V;for(;n!==Y;){const c=r/n,a=r%n,u=s-o*c;r=n,n=a,s=o,o=u}if(r!==V)throw new Error("invert: does not exist");return W(s,t)}function ms(e,t){const n=(e.ORDER+V)/ls,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Da(e,t){const n=(e.ORDER-hs)/ps,r=e.mul(t,ge),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,ge),s),c=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function Ga(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-V,n=0;for(;t%ge===Y;)t/=ge,n++;let r=ge;const s=En(e);for(;tr(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ms;let o=s.pow(r,t);const i=(t+V)/ge;return function(a,u){if(a.is0(u))return u;if(tr(a,u)!==1)throw new Error("Cannot find square root");let f=n,d=a.mul(a.ONE,o),l=a.pow(u,t),p=a.pow(u,i);for(;!a.eql(l,a.ONE);){if(a.is0(l))return a.ZERO;let y=1,h=a.sqr(l);for(;!a.eql(h,a.ONE);)if(y++,h=a.sqr(h),y===f)throw new Error("Cannot find square root");const v=V<<BigInt(f-y-1),b=a.pow(d,v);f=y,d=a.sqr(b),l=a.mul(l,d),p=a.mul(p,b)}return p}}function ja(e){return e%ls===Ma?ms:e%ps===hs?Da:Ga(e)}const Va=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Za(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Va.reduce((r,s)=>(r[s]="function",r),t);return pt(e,n)}function Wa(e,t,n){if(n<Y)throw new Error("invalid exponent, negatives unsupported");if(n===Y)return e.ONE;if(n===V)return t;let r=e.ONE,s=t;for(;n>Y;)n&V&&(r=e.mul(r,s)),s=e.sqr(s),n>>=V;return r}function ys(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,c,a)=>e.is0(c)?i:(r[a]=i,e.mul(i,c)),e.ONE),o=e.inv(s);return t.reduceRight((i,c,a)=>e.is0(c)?i:(r[a]=e.mul(i,r[a]),e.mul(i,c)),o),r}function tr(e,t){const n=(e.ORDER-V)/ge,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function bs(e,t){t!==void 0&&lo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function En(e,t,n=!1,r={}){if(e<=Y)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=bs(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:ht(s),ZERO:Y,ONE:V,create:a=>W(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return Y<=a&&a<e},is0:a=>a===Y,isOdd:a=>(a&V)===V,neg:a=>W(-a,e),eql:(a,u)=>a===u,sqr:a=>W(a*a,e),add:(a,u)=>W(a+u,e),sub:(a,u)=>W(a-u,e),mul:(a,u)=>W(a*u,e),pow:(a,u)=>Wa(c,a,u),div:(a,u)=>W(a*Ht(u,e),e),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>Ht(a,e),sqrt:r.sqrt||(a=>(i||(i=ja(e)),i(c,a))),toBytes:a=>n?Mr(a,o):Ye(a,o),fromBytes:a=>{if(a.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+a.length);return n?Hr(a):we(a)},invertBatch:a=>ys(c,a),cmov:(a,u,f)=>f?u:a});return Object.freeze(c)}function gs(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ws(e){const t=gs(e);return t+Math.ceil(t/2)}function Ya(e,t,n=!1){const r=e.length,s=gs(t),o=ws(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Hr(e):we(e),c=W(i,t-V)+V;return n?Mr(c,s):Ye(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nr=BigInt(0),Mt=BigInt(1);function Pt(e,t){const n=t.negate();return e?n:t}function vs(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Nt(e,t){vs(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=ht(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function rr(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let c=Number(e&s),a=e>>i;c>r&&(c-=o,a+=Mt);const u=t*r,f=u+Math.abs(c)-1,d=c===0,l=c<0,p=t%2!==0;return{nextN:a,offset:f,isZero:d,isNeg:l,isNegF:p,offsetF:u}}function Ka(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Ja(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const St=new WeakMap,Es=new WeakMap;function Tt(e){return Es.get(e)||1}function Xa(e,t){return{constTimeNegate:Pt,hasPrecomputes(n){return Tt(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>nr;)r&Mt&&(s=s.add(o)),o=o.double(),r>>=Mt;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Nt(r,t),i=[];let c=n,a=c;for(let u=0;u<s;u++){a=c,i.push(a);for(let f=1;f<o;f++)a=a.add(c),i.push(a);c=a.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const c=Nt(n,t);for(let a=0;a<c.windows;a++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:p,offsetF:y}=rr(s,a,c);s=u,d?i=i.add(Pt(p,r[y])):o=o.add(Pt(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Nt(n,t);for(let c=0;c<i.windows&&s!==nr;c++){const{nextN:a,offset:u,isZero:f,isNeg:d}=rr(s,c,i);if(s=a,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=St.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&St.set(r,s(o))),o},wNAFCached(n,r,s){const o=Tt(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Tt(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){vs(r,t),Es.set(n,r),St.delete(n)}}}function Qa(e,t,n,r){Ka(n,e),Ja(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,c=Xo(BigInt(s));let a=1;c>12?a=c-3:c>4?a=c-2:c>0&&(a=2);const u=ht(a),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/a)*a;let l=i;for(let p=d;p>=0;p-=a){f.fill(i);for(let h=0;h<o;h++){const v=r[h],b=Number(v>>BigInt(p)&u);f[b]=f[b].add(n[h])}let y=i;for(let h=f.length-1,v=i;h>0;h--)v=v.add(f[h]),y=y.add(v);if(l=l.add(y),p!==0)for(let h=0;h<a;h++)l=l.double()}return l}function xs(e){return Za(e.Fp),pt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bs(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sr(e){e.lowS!==void 0&&De("lowS",e.lowS),e.prehash!==void 0&&De("prehash",e.prehash)}function ec(e){const t=xs(e);pt(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class tc extends Error{constructor(t=""){super(t)}}const ie={Err:tc,_tlv:{encode:(e,t)=>{const{Err:n}=ie;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Qe(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Qe(s.length/2|128):"";return Qe(e)+o+s+t},decode(e,t){const{Err:n}=ie;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const a=s&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=a,i<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+i);if(c.length!==i)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=ie;if(e<ae)throw new t("integer: negative integers are not allowed");let n=Qe(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ie;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return we(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ie,s=J("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,o),{v:u,l:f}=r.decode(2,a);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ie,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function kt(e,t){return Ge(Ye(e,t))}const ae=BigInt(0),H=BigInt(1);BigInt(2);const Rt=BigInt(3),nc=BigInt(4);function rc(e){const t=ec(e),{Fp:n}=t,r=En(t.n,t.nBitLength),s=t.toBytes||((w,m,g)=>{const S=m.toAffine();return st(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),o=t.fromBytes||(w=>{const m=w.subarray(1),g=n.fromBytes(m.subarray(0,n.BYTES)),S=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:g,y:S}});function i(w){const{a:m,b:g}=t,S=n.sqr(w),E=n.mul(S,w);return n.add(n.add(E,n.mul(w,m)),g)}function c(w,m){const g=n.sqr(m),S=i(w);return n.eql(g,S)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const a=n.mul(n.pow(t.a,Rt),nc),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(a,u)))throw new Error("bad curve params: a or b");function f(w){return dn(w,H,t.n)}function d(w){const{allowedPrivateKeyLengths:m,nByteLength:g,wrapPrivateKey:S,n:E}=t;if(m&&typeof w!="bigint"){if(We(w)&&(w=Ge(w)),typeof w!="string"||!m.includes(w.length))throw new Error("invalid private key");w=w.padStart(g*2,"0")}let P;try{P=typeof w=="bigint"?w:we(J("private key",w,g))}catch{throw new Error("invalid private key, expected hex or "+g+" bytes, got "+typeof w)}return S&&(P=W(P,E)),ke("private key",P,H,E),P}function l(w){if(!(w instanceof h))throw new Error("ProjectivePoint expected")}const p=Zn((w,m)=>{const{px:g,py:S,pz:E}=w;if(n.eql(E,n.ONE))return{x:g,y:S};const P=w.is0();m==null&&(m=P?n.ONE:n.inv(E));const k=n.mul(g,m),F=n.mul(S,m),N=n.mul(E,m);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:k,y:F}}),y=Zn(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:m,y:g}=w.toAffine();if(!n.isValid(m)||!n.isValid(g))throw new Error("bad point: x or y not FE");if(!c(m,g))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,g,S){if(m==null||!n.isValid(m))throw new Error("x required");if(g==null||!n.isValid(g)||n.is0(g))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");this.px=m,this.py=g,this.pz=S,Object.freeze(this)}static fromAffine(m){const{x:g,y:S}=m||{};if(!m||!n.isValid(g)||!n.isValid(S))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const E=P=>n.eql(P,n.ZERO);return E(g)&&E(S)?h.ZERO:new h(g,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const g=ys(n,m.map(S=>S.pz));return m.map((S,E)=>S.toAffine(g[E])).map(h.fromAffine)}static fromHex(m){const g=h.fromAffine(o(J("pointHex",m)));return g.assertValidity(),g}static fromPrivateKey(m){return h.BASE.multiply(d(m))}static msm(m,g){return Qa(h,r,m,g)}_setWindowSize(m){A.setWindowSize(this,m)}assertValidity(){y(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:g,py:S,pz:E}=this,{px:P,py:k,pz:F}=m,N=n.eql(n.mul(g,F),n.mul(P,E)),C=n.eql(n.mul(S,F),n.mul(k,E));return N&&C}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:g}=t,S=n.mul(g,Rt),{px:E,py:P,pz:k}=this;let F=n.ZERO,N=n.ZERO,C=n.ZERO,T=n.mul(E,E),U=n.mul(P,P),I=n.mul(k,k),x=n.mul(E,P);return x=n.add(x,x),C=n.mul(E,k),C=n.add(C,C),F=n.mul(m,C),N=n.mul(S,I),N=n.add(F,N),F=n.sub(U,N),N=n.add(U,N),N=n.mul(F,N),F=n.mul(x,F),C=n.mul(S,C),I=n.mul(m,I),x=n.sub(T,I),x=n.mul(m,x),x=n.add(x,C),C=n.add(T,T),T=n.add(C,T),T=n.add(T,I),T=n.mul(T,x),N=n.add(N,T),I=n.mul(P,k),I=n.add(I,I),T=n.mul(I,x),F=n.sub(F,T),C=n.mul(I,U),C=n.add(C,C),C=n.add(C,C),new h(F,N,C)}add(m){l(m);const{px:g,py:S,pz:E}=this,{px:P,py:k,pz:F}=m;let N=n.ZERO,C=n.ZERO,T=n.ZERO;const U=t.a,I=n.mul(t.b,Rt);let x=n.mul(g,P),$=n.mul(S,k),B=n.mul(E,F),R=n.add(g,S),z=n.add(P,k);R=n.mul(R,z),z=n.add(x,$),R=n.sub(R,z),z=n.add(g,E);let L=n.add(P,F);return z=n.mul(z,L),L=n.add(x,B),z=n.sub(z,L),L=n.add(S,E),N=n.add(k,F),L=n.mul(L,N),N=n.add($,B),L=n.sub(L,N),T=n.mul(U,z),N=n.mul(I,B),T=n.add(N,T),N=n.sub($,T),T=n.add($,T),C=n.mul(N,T),$=n.add(x,x),$=n.add($,x),B=n.mul(U,B),z=n.mul(I,z),$=n.add($,B),B=n.sub(x,B),B=n.mul(U,B),z=n.add(z,B),x=n.mul($,z),C=n.add(C,x),x=n.mul(L,z),N=n.mul(R,N),N=n.sub(N,x),x=n.mul(R,$),T=n.mul(L,T),T=n.add(T,x),new h(N,C,T)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return A.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:g,n:S}=t;ke("scalar",m,ae,S);const E=h.ZERO;if(m===ae)return E;if(this.is0()||m===H)return this;if(!g||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:P,k1:k,k2neg:F,k2:N}=g.splitScalar(m),C=E,T=E,U=this;for(;k>ae||N>ae;)k&H&&(C=C.add(U)),N&H&&(T=T.add(U)),U=U.double(),k>>=H,N>>=H;return P&&(C=C.negate()),F&&(T=T.negate()),T=new h(n.mul(T.px,g.beta),T.py,T.pz),C.add(T)}multiply(m){const{endo:g,n:S}=t;ke("scalar",m,H,S);let E,P;if(g){const{k1neg:k,k1:F,k2neg:N,k2:C}=g.splitScalar(m);let{p:T,f:U}=this.wNAF(F),{p:I,f:x}=this.wNAF(C);T=A.constTimeNegate(k,T),I=A.constTimeNegate(N,I),I=new h(n.mul(I.px,g.beta),I.py,I.pz),E=T.add(I),P=U.add(x)}else{const{p:k,f:F}=this.wNAF(m);E=k,P=F}return h.normalizeZ([E,P])[0]}multiplyAndAddUnsafe(m,g,S){const E=h.BASE,P=(F,N)=>N===ae||N===H||!F.equals(E)?F.multiplyUnsafe(N):F.multiply(N),k=P(this,g).add(P(m,S));return k.is0()?void 0:k}toAffine(m){return p(this,m)}isTorsionFree(){const{h:m,isTorsionFree:g}=t;if(m===H)return!0;if(g)return g(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:g}=t;return m===H?this:g?g(h,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return De("isCompressed",m),this.assertValidity(),s(h,this,m)}toHex(m=!0){return De("isCompressed",m),Ge(this.toRawBytes(m))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:v,nBitLength:b}=t,A=Xa(h,v?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function sc(e){const t=xs(e);return pt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function oc(e){const t=sc(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,c=2*n.BYTES+1;function a(I){return W(I,r)}function u(I){return Ht(I,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:p}=rc({...t,toBytes(I,x,$){const B=x.toAffine(),R=n.toBytes(B.x),z=st;return De("isCompressed",$),$?z(Uint8Array.from([x.hasEvenY()?2:3]),R):z(Uint8Array.from([4]),R,n.toBytes(B.y))},fromBytes(I){const x=I.length,$=I[0],B=I.subarray(1);if(x===i&&($===2||$===3)){const R=we(B);if(!dn(R,H,n.ORDER))throw new Error("Point is not on curve");const z=l(R);let L;try{L=n.sqrt(z)}catch(Z){const G=Z instanceof Error?": "+Z.message:"";throw new Error("Point is not on curve"+G)}const M=(L&H)===H;return($&1)===1!==M&&(L=n.neg(L)),{x:R,y:L}}else if(x===c&&$===4){const R=n.fromBytes(B.subarray(0,n.BYTES)),z=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:R,y:z}}else{const R=i,z=c;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+z+", got "+x)}}});function y(I){const x=r>>H;return I>x}function h(I){return y(I)?a(-I):I}const v=(I,x,$)=>we(I.slice(x,$));class b{constructor(x,$,B){ke("r",x,H,r),ke("s",$,H,r),this.r=x,this.s=$,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(x){const $=s;return x=J("compactSignature",x,$*2),new b(v(x,0,$),v(x,$,2*$))}static fromDER(x){const{r:$,s:B}=ie.toSig(J("DER",x));return new b($,B)}assertValidity(){}addRecoveryBit(x){return new b(this.r,this.s,x)}recoverPublicKey(x){const{r:$,s:B,recovery:R}=this,z=E(J("msgHash",x));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const L=R===2||R===3?$+t.n:$;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=R&1?"03":"02",X=f.fromHex(M+kt(L,n.BYTES)),Z=u(L),G=a(-z*Z),Ae=a(B*Z),fe=f.BASE.multiplyAndAddUnsafe(X,G,Ae);if(!fe)throw new Error("point at infinify");return fe.assertValidity(),fe}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return rt(this.toDERHex())}toDERHex(){return ie.hexFromSig(this)}toCompactRawBytes(){return rt(this.toCompactHex())}toCompactHex(){const x=s;return kt(this.r,x)+kt(this.s,x)}}const A={isValidPrivateKey(I){try{return d(I),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const I=ws(t.n);return Ya(t.randomBytes(I),t.n)},precompute(I=8,x=f.BASE){return x._setWindowSize(I),x.multiply(BigInt(3)),x}};function w(I,x=!0){return f.fromPrivateKey(I).toRawBytes(x)}function m(I){if(typeof I=="bigint")return!1;if(I instanceof f)return!0;const $=J("key",I).length,B=n.BYTES,R=B+1,z=2*B+1;if(!(t.allowedPrivateKeyLengths||s===R))return $===R||$===z}function g(I,x,$=!0){if(m(I)===!0)throw new Error("first arg must be private key");if(m(x)===!1)throw new Error("second arg must be public key");return f.fromHex(x).multiply(d(I)).toRawBytes($)}const S=t.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const x=we(I),$=I.length*8-o;return $>0?x>>BigInt($):x},E=t.bits2int_modN||function(I){return a(S(I))},P=ht(o);function k(I){return ke("num < 2^"+o,I,ae,P),Ye(I,s)}function F(I,x,$=N){if(["recovered","canonical"].some(ye=>ye in $))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:R}=t;let{lowS:z,prehash:L,extraEntropy:M}=$;z==null&&(z=!0),I=J("msgHash",I),sr($),L&&(I=J("prehashed msgHash",B(I)));const X=E(I),Z=d(x),G=[k(Z),k(X)];if(M!=null&&M!==!1){const ye=M===!0?R(n.BYTES):M;G.push(J("extraEntropy",ye))}const Ae=st(...G),fe=X;function vt(ye){const Ie=S(ye);if(!p(Ie))return;const Et=u(Ie),Fe=f.BASE.multiply(Ie).toAffine(),be=a(Fe.x);if(be===ae)return;const Oe=a(Et*a(fe+be*Z));if(Oe===ae)return;let ze=(Fe.x===be?0:2)|Number(Fe.y&H),Pe=Oe;return z&&y(Oe)&&(Pe=h(Oe),ze^=1),new b(be,Pe,ze)}return{seed:Ae,k2sig:vt}}const N={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function T(I,x,$=N){const{seed:B,k2sig:R}=F(I,x,$),z=t;return Qo(z.hash.outputLen,z.nByteLength,z.hmac)(B,R)}f.BASE._setWindowSize(8);function U(I,x,$,B=C){var ze;const R=I;x=J("msgHash",x),$=J("publicKey",$);const{lowS:z,prehash:L,format:M}=B;if(sr(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&M!=="compact"&&M!=="der")throw new Error("format must be compact or der");const X=typeof R=="string"||We(R),Z=!X&&!M&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!X&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,Ae;try{if(Z&&(G=new b(R.r,R.s)),X){try{M!=="compact"&&(G=b.fromDER(R))}catch(Pe){if(!(Pe instanceof ie.Err))throw Pe}!G&&M!=="der"&&(G=b.fromCompact(R))}Ae=f.fromHex($)}catch{return!1}if(!G||z&&G.hasHighS())return!1;L&&(x=t.hash(x));const{r:fe,s:vt}=G,ye=E(x),Ie=u(vt),Et=a(ye*Ie),Fe=a(fe*Ie),be=(ze=f.BASE.multiplyAndAddUnsafe(Ae,Et,Fe))==null?void 0:ze.toAffine();return be?a(be.x)===fe:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:g,sign:T,verify:U,ProjectivePoint:f,Signature:b,utils:A}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ic(e){return{hash:e,hmac:(t,...n)=>ds(e,t,po(...n)),randomBytes:ho}}function ac(e,t){const n=r=>oc({...e,...ic(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bs=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),or=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cc=BigInt(0),uc=BigInt(1),Dt=BigInt(2),ir=(e,t)=>(e+t/Dt)/t;function fc(e){const t=Bs,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),a=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=K(f,n,t)*f%t,l=K(d,n,t)*f%t,p=K(l,Dt,t)*u%t,y=K(p,s,t)*p%t,h=K(y,o,t)*y%t,v=K(h,c,t)*h%t,b=K(v,a,t)*v%t,A=K(b,c,t)*h%t,w=K(A,n,t)*f%t,m=K(w,i,t)*y%t,g=K(m,r,t)*u%t,S=K(g,Dt,t);if(!Gt.eql(Gt.sqr(S),e))throw new Error("Cannot find square root");return S}const Gt=En(Bs,void 0,void 0,{sqrt:fc}),As=ac({a:cc,b:BigInt(7),Fp:Gt,n:or,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=or,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-uc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),c=ir(o*e,t),a=ir(-r*e,t);let u=W(e-c*n-a*s,t),f=W(-c*r-a*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},mo),dc=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:As},Symbol.toStringTag,{value:"Module"}));function Is(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Ct({signature:e});if(typeof e.s>"u")throw new Ct({signature:e});if(n&&typeof e.yParity>"u")throw new Ct({signature:e});if(e.r<0n||e.r>Xn)throw new gc({value:e.r});if(e.s<0n||e.s>Xn)throw new wc({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Bn({value:e.yParity})}function lc(e){return Ps(he(e))}function Ps(e){if(e.length!==130&&e.length!==132)throw new bc({signature:e});const t=BigInt(ne(e,0,32)),n=BigInt(ne(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return xn(s)}catch{throw new Bn({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function hc(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return pc(e)}function pc(e){const t=typeof e=="string"?Ps(e):e instanceof Uint8Array?lc(e):typeof e.r=="string"?yc(e):e.v?mc(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Is(t),t}function mc(e){return{r:e.r,s:e.s,yParity:xn(e.v)}}function yc(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=xn(n)),typeof r!="number")throw new Bn({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function xn(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new vc({value:e})}class bc extends _{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ee(bo(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Ct extends _{constructor({signature:t}){super(`Signature \`${yo(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class gc extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class wc extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Bn extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class vc extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Ec(e,t={}){return typeof e.chainId=="string"?xc(e):{...e,...t.signature}}function xc(e){const{address:t,chainId:n,nonce:r}=e,s=hc(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Bc="0x8010801080108010801080108010801080108010801080108010801080108010",Ac=as("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Ns(e){if(typeof e=="string"){if(ne(e,-32)!==Bc)throw new Nc(e)}else Is(e.authorization)}function Ic(e){Ns(e);const t=Er(ne(e,-64,-32)),n=ne(e,-t-64,-64),r=ne(e,0,-t-64),[s,o,i]=La(Ac,n);return{authorization:Ec({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function Pc(e){try{return Ns(e),!0}catch{return!1}}let Nc=class extends _{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Sc(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Tc(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Ve(e.nonce):void 0,storageProof:e.storageProof?Sc(e.storageProof):void 0}}async function kc(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?q(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Tc(c)}async function Rc(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?q(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function An(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var f,d,l;const i=r||"latest",c=n!==void 0?q(n):void 0;let a=null;if(s?a=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?a=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,q(o)]},{dedupe:!0}):a=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||i,q(o)]},{dedupe:!!c}),!a)throw new Nr({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||go)(a)}async function Cc(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([O(e,Xe,"getBlockNumber")({}),t?O(e,An,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function tt(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Sr({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||wo)(n)}async function jt(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:c}=t;try{const a=[];for(const l of s){const p=l.blockOverrides?vo(l.blockOverrides):void 0,y=l.calls.map(v=>{const b=v,A=b.account?Be(b.account):void 0,w=b.abi?me(b):b.data,m={...b,data:b.dataSuffix?ut([w||"0x",b.dataSuffix]):w,from:b.from??(A==null?void 0:A.address)};return it(m),Jt(m)}),h=l.stateOverrides?br(l.stateOverrides):void 0;a.push({blockOverrides:p,calls:y,stateOverrides:h})}const f=(typeof n=="bigint"?q(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:a,returnFullTransactions:o,traceTransfers:i,validation:c},f]})).map((l,p)=>({...yr(l),calls:l.calls.map((y,h)=>{var F,N;const{abi:v,args:b,functionName:A,to:w}=s[p].calls[h],m=((F=y.error)==null?void 0:F.data)??y.returnData,g=BigInt(y.gasUsed),S=(N=y.logs)==null?void 0:N.map(C=>le(C)),E=y.status==="0x1"?"success":"failure",P=v&&E==="success"&&m!=="0x"?ct({abi:v,data:m,functionName:A}):null,k=(()=>{var T;if(E==="success")return;let C;if(((T=y.error)==null?void 0:T.data)==="0x"?C=new Eo:y.error&&(C=new xo(y.error)),!!C)return Xt(C,{abi:v??[],address:w??"0x",args:b,functionName:A??"<unknown>"})})();return{data:m,gasUsed:g,logs:S,status:E,...E==="success"?{result:P}:{error:k}}})}))}catch(a){const u=a,f=pr(u,{});throw f instanceof mr?u:f}}function Vt(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const c=e[i];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){o=!0;break}continue}if(c===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!o)throw new _("Unable to normalize signature.");return s}function Zt(e,t){const n=typeof e,r=t.type;switch(r){case"address":return _t(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Zt(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Zt(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ss(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ss(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?_t(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?_t(n[r],{strict:!1}):!1)return i}}function Ts(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?_n(e):e;return{...r,...n?{hash:Te(r)}:{}}}function gt(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Bo(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?ks(u)===ne(t,0,4):u.type==="event"?Te(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new ot({name:t});if(i.length===1)return{...i[0],...s?{hash:Te(i[0])}:{}};let c;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Te(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const p="inputs"in u&&u.inputs[l];return p?Zt(d,p):!1})){if(c&&"inputs"in c&&c.inputs){const d=Ss(u.inputs,c.inputs,r);if(d)throw new Fc({abiItem:u,type:d[0]},{abiItem:c,type:d[1]})}c=u}}const a=(()=>{if(c)return c;const[u,...f]=i;return{...u,overloads:f}})();if(!a)throw new ot({name:t});return{...a,...s?{hash:Te(a)}:{}}}function ks(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return gt(n,r)}return e[0]})();return ne(Te(t),0,4)}function $c(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return gt(r,s)}return e[0]})(),n=typeof t=="string"?t:$t(t);return Vt(n)}function Te(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return gt(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:ss(en($c(t)))}class Fc extends _{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Vt($t(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Vt($t(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class ot extends _{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Oc(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,c]=e;return[Lc(i),c]}return e})(),{bytecode:r,args:s}=n;return Q(r,(o=t.inputs)!=null&&o.length&&(s!=null&&s.length)?wn(t.inputs,s):"0x")}function zc(e){return Ts(e)}function Lc(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new ot({name:"constructor"});return t}function _c(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[ar(u,f,{args:d}),d]}const[c,a]=e;return[c,a]})(),{overloads:r}=t,s=r?ar([t,...r],t.name,{args:n}):t,o=qc(s),i=n.length>0?wn(s.inputs,n):void 0;return i?Q(o,i):o}function Ne(e,t={}){return Ts(e,t)}function ar(e,t,n){const r=gt(e,t,n);if(r.type!=="function")throw new ot({name:t,type:"function"});return r}function qc(e){return ks(e)}const Uc="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ee="0x0000000000000000000000000000000000000000",Hc="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Mc(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:c,validation:a}=t,u=t.account?Be(t.account):void 0;if(i&&!u)throw new D("`account` is required when `traceAssetChanges` is true");const f=u?Oc(zc("constructor(bytes, bytes)"),{bytecode:Ao,args:[Hc,_c(Ne("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async B=>{if(!B.data&&!B.abi)return;const{accessList:R}=await Kr(e,{account:u.address,...B,data:B.abi?me(B):B.data});return R.map(({address:z,storageKeys:L})=>L.length>0?z:null)})).then(B=>B.flat().filter(Boolean)):[],l=await jt(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((B,R)=>({abi:[Ne("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:B,from:ee,nonce:R})),stateOverrides:[{address:ee,nonce:0}]}]:[],{calls:[...s,{}].map(B=>({...B,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((B,R)=>({abi:[Ne("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:B,from:ee,nonce:R})),stateOverrides:[{address:ee,nonce:0}]},{calls:d.map((B,R)=>({to:B,abi:[Ne("function decimals() returns (uint256)")],functionName:"decimals",from:ee,nonce:R})),stateOverrides:[{address:ee,nonce:0}]},{calls:d.map((B,R)=>({to:B,abi:[Ne("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ee,nonce:R})),stateOverrides:[{address:ee,nonce:0}]},{calls:d.map((B,R)=>({to:B,abi:[Ne("function symbol() returns (string)")],functionName:"symbol",from:ee,nonce:R})),stateOverrides:[{address:ee,nonce:0}]}]:[]],traceTransfers:c,validation:a}),p=i?l[2]:l[0],[y,h,,v,b,A,w,m]=i?l:[],{calls:g,...S}=p,E=g.slice(0,-1)??[],P=(y==null?void 0:y.calls)??[],k=(h==null?void 0:h.calls)??[],F=[...P,...k].map(B=>B.status==="success"?de(B.data):null),N=(v==null?void 0:v.calls)??[],C=(b==null?void 0:b.calls)??[],T=[...N,...C].map(B=>B.status==="success"?de(B.data):null),U=((A==null?void 0:A.calls)??[]).map(B=>B.status==="success"?B.result:null),I=((m==null?void 0:m.calls)??[]).map(B=>B.status==="success"?B.result:null),x=((w==null?void 0:w.calls)??[]).map(B=>B.status==="success"?B.result:null),$=[];for(const[B,R]of T.entries()){const z=F[B];if(typeof R!="bigint"||typeof z!="bigint")continue;const L=U[B-1],M=I[B-1],X=x[B-1],Z=B===0?{address:Uc,decimals:18,symbol:"ETH"}:{address:d[B-1],decimals:X||L?Number(L??1):void 0,symbol:M??void 0};$.some(G=>G.token.address===Z.address)||$.push({token:Z,value:{pre:z,post:R,diff:R-z}})}return{assetChanges:$,block:S,results:E}}const Rs="0x6492649264926492649264926492649264926492649264926492649264926492";function Dc(e){if(ne(e,-32)!==Rs)throw new Vc(e)}function Gc(e){const{data:t,signature:n,to:r}=e;return Q(wn(as("address, bytes, bytes"),[r,t,n]),Rs)}function jc(e){try{return Dc(e),!0}catch{return!1}}class Vc extends _{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Zc({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new As.Signature(de(e),de(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:hr(i)}async function wt(e,t){var c,a,u,f,d,l;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(a=(c=e.chain)==null?void 0:c.contracts)==null?void 0:a.erc6492Verifier)==null?void 0:u.address),multicallAddress:o=t.multicallAddress??((l=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t,i=(()=>{const p=t.signature;return nt(p)?p:typeof p=="object"&&"r"in p&&"s"in p?Zc(p):He(p)})();try{return Pc(i)?await Wc(e,{...t,multicallAddress:o,signature:i}):await Yc(e,{...t,verifierAddress:s,signature:i})}catch(p){try{if(dt(Ar(n),await Rr({hash:r,signature:i})))return!0}catch{}if(p instanceof xe)return!1;throw p}}async function Wc(e,t){var v;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:c,data:a,signature:u,to:f}=Ic(t.signature);if(await Lt(e,{address:n,blockNumber:r,blockTag:s})===lr(["0xef0100",c.address]))return await Kc(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:q(c.r,{size:32}),s:q(c.s,{size:32}),yParity:c.yParity};if(!await Xi({address:n,authorization:l}))throw new xe;const y=await O(e,re,"readContract")({...i?{address:i}:{code:Po},authorizationList:[l],abi:Io,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...a?[{allowFailure:!0,target:f??n,callData:a}]:[],{allowFailure:!0,target:n,callData:me({abi:Tr,functionName:"isValidSignature",args:[o,u]})}]]}),h=(v=y[y.length-1])==null?void 0:v.returnData;if(h!=null&&h.startsWith("0x1626ba7e"))return!0;throw new xe}async function Yc(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:c,...a}=t,u=await(async()=>!r&&!s||jc(i)?i:Gc({data:s,signature:i,to:r}))(),f=c?{to:c,data:me({abi:zn,functionName:"isValidSig",args:[n,o,u]}),...a}:{data:No({abi:zn,args:[n,o,u],bytecode:Ro}),...a},{data:d}=await O(e,Qt,"call")(f).catch(l=>{throw l instanceof So?new xe:l});if(To(d??"0x0"))return!0;throw new xe}async function Kc(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await O(e,re,"readContract")({address:n,abi:Tr,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(a=>{throw a instanceof ko?new xe:a})).startsWith("0x1626ba7e"))return!0;throw new xe}class xe extends Error{}async function Jc(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const c=Qr(n);return wt(e,{address:t,factory:r,factoryData:s,hash:c,signature:o,...i})}async function Xc(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:c,types:a,domain:u,...f}=t,d=aa({message:i,primaryType:c,types:a,domain:u});return wt(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Cs(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const c=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let a;return c?(()=>{const d=ue(["watchBlockNumber",e.uid,t,n,i]);return pe(d,{onBlockNumber:r,onError:s},l=>Je(async()=>{var p;try{const y=await O(e,Xe,"getBlockNumber")({cacheTime:0});if(a!==void 0){if(y===a)return;if(y-a>1&&n)for(let h=a+1n;h<y;h++)l.onBlockNumber(h,a),a=h}(a===void 0||y>a)&&(l.onBlockNumber(y,a),a=y)}catch(y){(p=l.onError)==null||p.call(l,y)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=ue(["watchBlockNumber",e.uid,t,n]);return pe(d,{onBlockNumber:r,onError:s},l=>{let p=!0,y=()=>p=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return b?b.value:e.transport}return e.transport})(),{unsubscribe:v}=await h.subscribe({params:["newHeads"],onData(b){var w;if(!p)return;const A=de((w=b.result)==null?void 0:w.number);l.onBlockNumber(A,a),a=A},onError(b){var A;(A=l.onError)==null||A.call(l,b)}});y=v,p||y()}catch(h){s==null||s(h)}})(),()=>y()})})()}async function Qc(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:c=({count:g})=>~~(1<<g)*200,timeout:a=18e4}=t,u=ue(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var g;return t.pollingInterval?t.pollingInterval:(g=e.chain)!=null&&g.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,p,y=!1,h,v;const{promise:b,resolve:A,reject:w}=Co(),m=a?setTimeout(()=>{v==null||v(),h==null||h(),w(new $o({hash:s}))},a):void 0;return h=pe(u,{onReplaced:o,resolve:A,reject:w},async g=>{if(p=await O(e,tt,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&r<=1){clearTimeout(m),g.resolve(p),h==null||h();return}v=O(e,Cs,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(S){const E=k=>{clearTimeout(m),v==null||v(),k(),h==null||h()};let P=S;if(!y)try{if(p){if(r>1&&(!p.blockNumber||P-p.blockNumber+1n<r))return;E(()=>g.resolve(p));return}if(n&&!d&&(y=!0,await Ln(async()=>{d=await O(e,An,"getTransaction")({hash:s}),d.blockNumber&&(P=d.blockNumber)},{delay:c,retryCount:i}),y=!1),p=await O(e,tt,"getTransactionReceipt")({hash:s}),r>1&&(!p.blockNumber||P-p.blockNumber+1n<r))return;E(()=>g.resolve(p))}catch(k){if(k instanceof Nr||k instanceof Sr){if(!d){y=!1;return}try{l=d,y=!0;const F=await Ln(()=>O(e,te,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:c,retryCount:i,shouldRetry:({error:T})=>T instanceof $r});y=!1;const N=F.transactions.find(({from:T,nonce:U})=>T===l.from&&U===l.nonce);if(!N||(p=await O(e,tt,"getTransactionReceipt")({hash:N.hash}),r>1&&(!p.blockNumber||P-p.blockNumber+1n<r)))return;let C="replaced";N.to===l.to&&N.value===l.value&&N.input===l.input?C="repriced":N.from===N.to&&N.value===0n&&(C="cancelled"),E(()=>{var T;(T=g.onReplaced)==null||T.call(g,{reason:C,replacedTransaction:l,transaction:N,transactionReceipt:p}),g.resolve(p)})}catch(F){E(()=>g.reject(F))}}else E(()=>g.reject(k))}}})}),b}function eu(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:c,pollingInterval:a=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const y=ue(["watchBlocks",e.uid,t,n,r,f,a]);return pe(y,{onBlock:s,onError:o},h=>Je(async()=>{var v;try{const b=await O(e,te,"getBlock")({blockTag:t,includeTransactions:f});if(b.number!==null&&(d==null?void 0:d.number)!=null){if(b.number===d.number)return;if(b.number-d.number>1&&n)for(let A=(d==null?void 0:d.number)+1n;A<b.number;A++){const w=await O(e,te,"getBlock")({blockNumber:A,includeTransactions:f});h.onBlock(w,d),d=w}}((d==null?void 0:d.number)==null||t==="pending"&&(b==null?void 0:b.number)==null||b.number!==null&&b.number>d.number)&&(h.onBlock(b,d),d=b)}catch(b){(v=h.onError)==null||v.call(h,b)}},{emitOnBegin:r,interval:a}))})():(()=>{let y=!0,h=!0,v=()=>y=!1;return(async()=>{try{r&&O(e,te,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{y&&h&&(s(w,void 0),h=!1)}).catch(o);const b=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:A}=await b.subscribe({params:["newHeads"],async onData(w){var g;if(!y)return;const m=await O(e,te,"getBlock")({blockNumber:(g=w.result)==null?void 0:g.number,includeTransactions:f}).catch(()=>{});y&&(s(m,d),h=!1,d=m)},onError(w){o==null||o(w)}});v=A,y||v()}catch(b){o==null||o(b)}})(),()=>v()})()}function tu(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:c,onLogs:a,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),p=d??!1;return l?(()=>{const v=ue(["watchEvent",t,n,r,e.uid,s,f,i]);return pe(v,{onLogs:a,onError:c},b=>{let A;i!==void 0&&(A=i-1n);let w,m=!1;const g=Je(async()=>{var S;if(!m){try{w=await O(e,Jr,"createEventFilter")({address:t,args:n,event:s,events:o,strict:p,fromBlock:i})}catch{}m=!0;return}try{let E;if(w)E=await O(e,mt,"getFilterChanges")({filter:w});else{const P=await O(e,Xe,"getBlockNumber")({});A&&A!==P?E=await O(e,cn,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:A+1n,toBlock:P}):E=[],A=P}if(E.length===0)return;if(r)b.onLogs(E);else for(const P of E)b.onLogs([P])}catch(E){w&&E instanceof xr&&(m=!1),(S=b.onError)==null||S.call(b,E)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await O(e,yt,"uninstallFilter")({filter:w}),g()}})})():(()=>{let v=!0,b=()=>v=!1;return(async()=>{try{const A=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let m=[];w&&(m=[w.flatMap(E=>Ze({abi:[E],eventName:E.name,args:n}))],s&&(m=m[0]));const{unsubscribe:g}=await A.subscribe({params:["logs",{address:t,topics:m}],onData(S){var P;if(!v)return;const E=S.result;try{const{eventName:k,args:F}=on({abi:w??[],data:E.data,topics:E.topics,strict:p}),N=le(E,{args:F,eventName:k});a([N])}catch(k){let F,N;if(k instanceof Ue||k instanceof at){if(d)return;F=k.abiItem.name,N=(P=k.abiItem.inputs)==null?void 0:P.some(T=>!("name"in T&&T.name))}const C=le(E,{args:N?[]:{},eventName:F});a([C])}},onError(S){c==null||c(S)}});b=g,v||b()}catch(A){c==null||c(A)}})(),()=>b()})()}function nu(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=ue(["watchPendingTransactions",e.uid,t,o]);return pe(u,{onTransactions:r,onError:n},f=>{let d;const l=Je(async()=>{var p;try{if(!d)try{d=await O(e,Xr,"createPendingTransactionFilter")({});return}catch(h){throw l(),h}const y=await O(e,mt,"getFilterChanges")({filter:d});if(y.length===0)return;if(t)f.onTransactions(y);else for(const h of y)f.onTransactions([h])}catch(y){(p=f.onError)==null||p.call(f,y)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await O(e,yt,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const p=l.result;r([p])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function ru(e){var d,l,p;const{scheme:t,statement:n,...r}=((d=e.match(su))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:c,requestId:a,...u}=((l=e.match(ou))==null?void 0:l.groups)??{},f=(p=e.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...c?{notBefore:new Date(c)}:{},...a?{requestId:a}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const su=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ou=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function iu(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!Ir(r.address,{strict:!1})||t&&!dt(r.address,t))return!1}catch{return!1}return!0}async function au(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:c,time:a=new Date,...u}=t,f=ru(s);if(!f.address||!iu({address:n,domain:r,message:f,nonce:o,scheme:i,time:a}))return!1;const l=Qr(s);return wt(e,{address:f.address,hash:l,signature:c,...u})}function cu(e){return{call:t=>Qt(e,t),createAccessList:t=>Kr(e,t),createBlockFilter:()=>Di(e),createContractEventFilter:t=>kr(e,t),createEventFilter:t=>Jr(e,t),createPendingTransactionFilter:()=>Xr(e),estimateContractGas:t=>Wo(e,t),estimateGas:t=>sn(e,t),getBalance:t=>Oo(e,t),getBlobBaseFee:()=>Gi(e),getBlock:t=>te(e,t),getBlockNumber:t=>Xe(e,t),getBlockTransactionCount:t=>ji(e,t),getBytecode:t=>Lt(e,t),getChainId:()=>zr(e),getCode:t=>Lt(e,t),getContractEvents:t=>_r(e,t),getEip712Domain:t=>Zi(e,t),getEnsAddress:t=>Ni(e,t),getEnsAvatar:t=>Ui(e,t),getEnsName:t=>Hi(e,t),getEnsResolver:t=>Mi(e,t),getEnsText:t=>Yr(e,t),getFeeHistory:t=>Ki(e,t),estimateFeesPerGas:t=>Vo(e,t),getFilterChanges:t=>mt(e,t),getFilterLogs:t=>Ji(e,t),getGasPrice:()=>rn(e),getLogs:t=>cn(e,t),getProof:t=>kc(e,t),estimateMaxPriorityFeePerGas:t=>jo(e,t),getStorageAt:t=>Rc(e,t),getTransaction:t=>An(e,t),getTransactionConfirmations:t=>Cc(e,t),getTransactionCount:t=>Or(e,t),getTransactionReceipt:t=>tt(e,t),multicall:t=>Fo(e,t),prepareTransactionRequest:t=>Lr(e,t),readContract:t=>re(e,t),sendRawTransaction:t=>Ai(e,t),simulate:t=>jt(e,t),simulateBlocks:t=>jt(e,t),simulateCalls:t=>Mc(e,t),simulateContract:t=>yi(e,t),verifyHash:t=>wt(e,t),verifyMessage:t=>Jc(e,t),verifySiweMessage:t=>au(e,t),verifyTypedData:t=>Xc(e,t),uninstallFilter:t=>yt(e,t),waitForTransactionReceipt:t=>Qc(e,t),watchBlocks:t=>eu(e,t),watchBlockNumber:t=>Cs(e,t),watchContractEvent:t=>Bi(e,t),watchEvent:t=>tu(e,t),watchPendingTransactions:t=>nu(e,t)}}function mu(e){const{key:t="public",name:n="Public Client"}=e;return zo({...e,key:t,name:n,type:"publicClient"}).extend(cu)}export{gu as AbiConstructorNotFoundError,wu as AbiConstructorParamsNotFoundError,Vs as AbiDecodingDataSizeTooSmallError,Eo as AbiDecodingZeroDataError,vu as AbiEncodingArrayLengthMismatchError,Eu as AbiEncodingBytesSizeMismatchError,xu as AbiEncodingLengthMismatchError,Bu as AbiErrorInputsNotFoundError,Au as AbiErrorNotFoundError,Iu as AbiErrorSignatureNotFoundError,Tn as AbiEventNotFoundError,js as AbiEventSignatureEmptyTopicsError,wr as AbiEventSignatureNotFoundError,Pu as AbiFunctionNotFoundError,Nu as AbiFunctionOutputsNotFoundError,Su as AbiFunctionSignatureNotFoundError,Tu as AccountStateConflictError,ku as AtomicReadyWalletRejectedUpgradeError,Ru as AtomicityNotSupportedError,D as BaseError,Do as BaseFeeScalarError,$r as BlockNotFoundError,Cu as BundleTooLargeError,no as BytesSizeMismatchError,So as CallExecutionError,$u as ChainDisconnectedError,Fu as ChainDoesNotSupportContract,Ou as CircularReferenceError,zu as ClientChainNotConfiguredError,ko as ContractFunctionExecutionError,Rn as ContractFunctionRevertedError,Lu as ContractFunctionZeroDataError,_u as CounterfactualDeploymentFailedError,Ue as DecodeLogDataMismatch,at as DecodeLogTopicsMismatch,qu as DuplicateIdError,nn as Eip1559FeesNotSupportedError,Le as EnsAvatarInvalidNftUriError,Ti as EnsAvatarUnsupportedNamespaceError,pn as EnsAvatarUriResolutionError,Ho as EstimateGasExecutionError,Uu as ExecutionRevertedError,Hu as FeeCapTooHighError,Mu as FeeCapTooLowError,Du as FeeConflictError,Lo as FilterTypeNotSupportedError,Gu as HttpRequestError,ju as InsufficientFundsError,Vu as IntegerOutOfRangeError,Zu as InternalRpcError,Wu as IntrinsicGasTooHighError,Yu as IntrinsicGasTooLowError,Ku as InvalidAbiDecodingTypeError,Ju as InvalidAbiEncodingTypeError,$s as InvalidAbiItemError,Fs as InvalidAbiParametersError,Xu as InvalidAbiTypeParameterError,eo as InvalidAddressError,Qu as InvalidArrayError,ef as InvalidBytesBooleanError,tf as InvalidChainIdError,nf as InvalidDefinitionTypeError,ta as InvalidDomainError,rf as InvalidFunctionModifierError,sf as InvalidHexBooleanError,xr as InvalidInputRpcError,of as InvalidLegacyVError,af as InvalidModifierError,cf as InvalidParameterError,uf as InvalidParamsRpcError,ff as InvalidParenthesisError,na as InvalidPrimaryTypeError,df as InvalidRequestRpcError,lf as InvalidSerializableTransactionError,hf as InvalidSignatureError,pf as InvalidStorageKeySizeError,mf as InvalidStructSignatureError,ra as InvalidStructTypeError,yf as JsonRpcVersionUnsupportedError,bf as LimitExceededRpcError,Go as MaxFeePerGasTooLowError,gf as MethodNotFoundRpcError,wf as MethodNotSupportedRpcError,vf as NonceMaxValueError,Ef as NonceTooHighError,xf as NonceTooLowError,Bf as ParseRpcError,Af as ProviderDisconnectedError,If as ProviderRpcError,xo as RawContractError,Pf as ResourceNotFoundRpcError,Nf as ResourceUnavailableRpcError,Sf as RpcError,Tf as RpcRequestError,kf as SizeExceedsPaddingSizeError,Rf as SizeOverflowError,Cf as SliceOffsetOutOfBoundsError,$f as SolidityProtectedKeywordError,Ff as StateAssignmentConflictError,Of as SwitchChainError,zf as TimeoutError,Lf as TipAboveFeeCapError,Nr as TransactionNotFoundError,Sr as TransactionReceiptNotFoundError,_f as TransactionRejectedRpcError,qf as TransactionTypeNotSupportedError,Uf as UnauthorizedProviderError,Hf as UnknownBundleIdError,mr as UnknownNodeError,Mf as UnknownRpcError,Df as UnknownSignatureError,Gf as UnknownTypeError,jf as UnsupportedChainIdError,Vf as UnsupportedNonOptionalCapabilityError,Zf as UnsupportedProviderMethodError,Wf as UrlRequiredError,Yf as UserRejectedRequestError,$o as WaitForTransactionReceiptTimeoutError,it as assertRequest,Kf as assertTransactionEIP1559,Jf as assertTransactionEIP2930,Xf as assertTransactionLegacy,Us as blobsToCommitments,Ms as blobsToProofs,Qf as boolToBytes,ed as boolToHex,td as bytesToBigInt,nd as bytesToBool,He as bytesToHex,rd as bytesToNumber,sd as bytesToString,Yd as ccipFetch,Kd as ccipRequest,Os as checksumAddress,od as commitmentToVersionedHash,Hs as commitmentsToVersionedHashes,ut as concat,id as concatBytes,lr as concatHex,zo as createClient,mu as createPublicClient,ad as createTransport,vr as decodeAbiParameters,cd as decodeErrorResult,on as decodeEventLog,Jd as decodeFunctionData,ct as decodeFunctionResult,ud as defineBlock,fd as defineChain,dd as defineTransaction,ld as defineTransactionReceipt,Ao as deploylessCallViaBytecodeBytecode,hd as deploylessCallViaFactoryBytecode,Kt as encodeAbiParameters,No as encodeDeployData,Xd as encodeErrorResult,Ze as encodeEventTopics,me as encodeFunctionData,Qd as encodeFunctionResult,pd as erc20Abi,zn as erc6492SignatureValidatorAbi,Ro as erc6492SignatureValidatorByteCode,Uc as ethAddress,md as etherUnits,yd as fallback,yr as formatBlock,qs as formatEther,et as formatGwei,le as formatLog,go as formatTransaction,wo as formatTransactionReceipt,Jt as formatTransactionRequest,bd as formatUnits,fr as getAbiItem,Ar as getAddress,ft as getChainContractAddress,Xt as getContractError,Wt as getEventSelector,gd as getEventSignature,wd as getFunctionSelector,vd as getFunctionSignature,Gs as getTransactionType,oa as getTypesForEIP712Domain,Ed as gweiUnits,ca as hashDomain,Qr as hashMessage,es as hashStruct,aa as hashTypedData,de as hexToBigInt,To as hexToBool,hr as hexToBytes,Ve as hexToNumber,xd as hexToString,Bd as http,Ir as isAddress,dt as isAddressEqual,nt as isHex,j as keccak256,Pi as labelhash,Ad as maxUint256,Io as multicall3Abi,zt as namehash,Id as numberToBytes,q as numberToHex,el as offchainLookup,tl as offchainLookupAbiItem,nl as offchainLookupSignature,Pd as pad,Nd as padBytes,Sd as padHex,Td as parseAbi,_n as parseAbiItem,qn as parseAbiParameters,an as parseEventLogs,kd as prepareEncodeFunctionData,Qi as presignMessagePrefix,cu as publicActions,Rr as recoverAddress,qo as recoverPublicKey,Rd as rpcTransactionType,Cd as serializeAccessList,Zc as serializeSignature,$d as serializeTransaction,Fd as sha256,Od as shouldThrow,Zc as signatureToHex,qe as size,zd as slice,Ld as sliceBytes,_d as sliceHex,_e as stringToBytes,Fn as stringToHex,ue as stringify,Ds as toBlobSidecars,qd as toBlobs,Yt as toBytes,Ud as toEventHash,Wt as toEventSelector,Hd as toEventSignature,Md as toFunctionHash,Dd as toFunctionSelector,Gd as toFunctionSignature,ve as toHex,ea as toPrefixedMessage,Ls as toRlp,jd as transactionType,Ks as trim,zn as universalSignatureValidatorAbi,Ro as universalSignatureValidatorByteCode,sa as validateTypedData,Vd as weiUnits,Ei as withCache,Ln as withRetry,Zd as withTimeout,ee as zeroAddress};
//# sourceMappingURL=index-CGYBe8hV.js.map
