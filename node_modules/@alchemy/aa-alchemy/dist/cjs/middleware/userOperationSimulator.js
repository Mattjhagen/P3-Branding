"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.alchemyUserOperationSimulator = void 0;
const aa_core_1 = require("@alchemy/aa-core");
function alchemyUserOperationSimulator(client) {
    return async (struct, { account }) => {
        const uoSimResult = await client.request({
            method: "alchemy_simulateUserOperationAssetChanges",
            params: [
                (0, aa_core_1.deepHexlify)(await (0, aa_core_1.resolveProperties)(struct)),
                account.getEntryPoint().address,
            ],
        });
        if (uoSimResult.error) {
            throw new Error(uoSimResult.error.message);
        }
        return struct;
    };
}
exports.alchemyUserOperationSimulator = alchemyUserOperationSimulator;
//# sourceMappingURL=userOperationSimulator.js.map