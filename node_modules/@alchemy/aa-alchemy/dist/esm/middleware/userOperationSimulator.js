import { deepHexlify, resolveProperties, } from "@alchemy/aa-core";
export function alchemyUserOperationSimulator(client) {
    return async (struct, { account }) => {
        const uoSimResult = await client.request({
            method: "alchemy_simulateUserOperationAssetChanges",
            params: [
                deepHexlify(await resolveProperties(struct)),
                account.getEntryPoint().address,
            ],
        });
        if (uoSimResult.error) {
            throw new Error(uoSimResult.error.message);
        }
        return struct;
    };
}
//# sourceMappingURL=userOperationSimulator.js.map