{"version":3,"file":"getSignerType.js","sourceRoot":"","sources":["../../../../../../../src/msca/plugins/multisig/utils/getSignerType.ts"],"names":[],"mappings":"AAIA,OAAO,EAOL,IAAI,GACL,MAAM,MAAM,CAAC;AAsBd,MAAM,CAAC,MAAM,aAAa,GAAG,KAAK,EAGhC,EACA,MAAM,EACN,SAAS,EACT,MAAM,GACkC,EAAuB,EAAE;IACjE,MAAM,aAAa,GAAG,MAAM,MAAM,CAAC,UAAU,EAAE,CAAC;IAChD,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,WAAW,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC;IAEtE,OAAO,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;QAC1D,CAAC,CAAC,KAAK;QACP,CAAC,CAAC,UAAU,CAAC;AACjB,CAAC,CAAC","sourcesContent":["import type {\n  SmartContractAccount,\n  SmartAccountSigner,\n} from \"@alchemy/aa-core\";\nimport {\n  type Transport,\n  type Chain,\n  type Client,\n  type PublicRpcSchema,\n  type PublicActions,\n  type Hex,\n  size,\n} from \"viem\";\nimport type { SignerType } from \"../types\";\n\ntype GetSignerTypeParams<\n  TTransport extends Transport = Transport,\n  TChain extends Chain | undefined = Chain | undefined,\n  TAccount extends SmartContractAccount | undefined =\n    | SmartContractAccount\n    | undefined,\n  TClient extends Client<\n    TTransport,\n    TChain,\n    TAccount,\n    PublicRpcSchema,\n    PublicActions\n  > = Client<TTransport, TChain, TAccount, PublicRpcSchema, PublicActions>\n> = {\n  signer: SmartAccountSigner<any>;\n  signature: Hex;\n  client: TClient;\n};\n\nexport const getSignerType = async <\n  TTransport extends Transport = Transport,\n  TChain extends Chain | undefined = Chain | undefined\n>({\n  client,\n  signature,\n  signer,\n}: GetSignerTypeParams<TTransport, TChain>): Promise<SignerType> => {\n  const signerAddress = await signer.getAddress();\n  const byteCode = await client.getBytecode({ address: signerAddress });\n\n  return (byteCode ?? \"0x\") === \"0x\" && size(signature) === 65\n    ? \"EOA\"\n    : \"CONTRACT\";\n};\n"]}