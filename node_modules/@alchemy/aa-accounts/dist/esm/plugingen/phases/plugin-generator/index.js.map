{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../plugingen/phases/plugin-generator/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,kBAAkB,CAAC;AAC7C,OAAO,MAAM,MAAM,QAAQ,CAAC;AAE5B,OAAO,EAAE,mBAAmB,EAAE,MAAM,uBAAuB,CAAC;AAC5D,OAAO,EAAE,YAAY,EAAE,MAAM,eAAe,CAAC;AAE7C,MAAM,CAAC,MAAM,oBAAoB,GAAU,KAAK,EAAE,KAAK,EAAE,EAAE;IACzD,MAAM,YAAY,GAAY,CAAC,YAAY,EAAE,mBAAmB,CAAC,CAAC;IAClE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,KAAK,CAAC;IAEtC,MAAM,MAAM,GAAG,MAAM,SAAS,CAAC,GAAG,YAAY,CAAC,CAAC;QAC9C,GAAG,KAAK;QACR,OAAO,EAAE,EAAE;KACZ,CAAC,CAAC;IAEH,SAAS,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IAE3D,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAA;mBACR,QAAQ,CAAC,IAAI,mBAAmB,QAAQ,CAAC,IAAI;UACtD,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;;GAEjC,CAAC,CAAC;IAEH,OAAO,KAAK,CAAC;AACf,CAAC,CAAC","sourcesContent":["import { asyncPipe } from \"@alchemy/aa-core\";\nimport dedent from \"dedent\";\nimport type { Phase } from \"../../types\";\nimport { GetContractGenPhase } from \"./get-contract-gen.js\";\nimport { MetaGenPhase } from \"./meta-gen.js\";\n\nexport const PluginGeneratorPhase: Phase = async (input) => {\n  const pluginPhases: Phase[] = [MetaGenPhase, GetContractGenPhase];\n  const { contract, addImport } = input;\n\n  const result = await asyncPipe(...pluginPhases)({\n    ...input,\n    content: [],\n  });\n\n  addImport(\"../types.js\", { name: \"Plugin\", isType: true });\n\n  input.content.push(dedent`\n    export const ${contract.name}: Plugin<typeof ${contract.name}Abi> = {\n        ${result.content.join(\",\\n\")}\n    };\n  `);\n\n  return input;\n};\n"]}