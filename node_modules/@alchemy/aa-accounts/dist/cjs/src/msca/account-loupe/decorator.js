"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.accountLoupeActions = void 0;
const aa_core_1 = require("@alchemy/aa-core");
const IAccountLoupe_js_1 = require("../abis/IAccountLoupe.js");
const accountLoupeActions = (client) => ({
    getExecutionFunctionConfig: async ({ selector, account = client.account, }) => {
        if (!account) {
            throw new aa_core_1.AccountNotFoundError();
        }
        if (!(0, aa_core_1.isSmartAccountClient)(client)) {
            throw new aa_core_1.IncompatibleClientError("SmartAccountClient", "getExecutionFunctionConfig", client);
        }
        return client.readContract({
            address: account.address,
            abi: IAccountLoupe_js_1.IAccountLoupeAbi,
            functionName: "getExecutionFunctionConfig",
            args: [selector],
        });
    },
    getExecutionHooks: async ({ selector, account = client.account }) => {
        if (!account) {
            throw new aa_core_1.AccountNotFoundError();
        }
        if (!(0, aa_core_1.isSmartAccountClient)(client)) {
            throw new aa_core_1.IncompatibleClientError("SmartAccountClient", "getExecutionHooks", client);
        }
        return client.readContract({
            address: account.address,
            abi: IAccountLoupe_js_1.IAccountLoupeAbi,
            functionName: "getExecutionHooks",
            args: [selector],
        });
    },
    getPreValidationHooks: async ({ selector, account = client.account }) => {
        if (!account) {
            throw new aa_core_1.AccountNotFoundError();
        }
        if (!(0, aa_core_1.isSmartAccountClient)(client)) {
            throw new aa_core_1.IncompatibleClientError("SmartAccountClient", "getPreValidationHooks", client);
        }
        return client.readContract({
            address: account.address,
            abi: IAccountLoupe_js_1.IAccountLoupeAbi,
            functionName: "getPreValidationHooks",
            args: [selector],
        });
    },
    getInstalledPlugins: async ({ account = client.account }) => {
        if (!account) {
            throw new aa_core_1.AccountNotFoundError();
        }
        if (!(0, aa_core_1.isSmartAccountClient)(client)) {
            throw new aa_core_1.IncompatibleClientError("SmartAccountClient", "getInstalledPlugins", client);
        }
        return client
            .readContract({
            address: account.address,
            abi: IAccountLoupe_js_1.IAccountLoupeAbi,
            functionName: "getInstalledPlugins",
        })
            .catch(() => []);
    },
});
exports.accountLoupeActions = accountLoupeActions;
//# sourceMappingURL=decorator.js.map