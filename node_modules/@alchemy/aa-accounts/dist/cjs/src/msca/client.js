"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createMultisigModularAccountClient = exports.createMultiOwnerModularAccountClient = void 0;
const aa_core_1 = require("@alchemy/aa-core");
const decorator_js_1 = require("./account-loupe/decorator.js");
const multiOwnerAccount_js_1 = require("./account/multiOwnerAccount.js");
const multisigAccount_js_1 = require("./account/multisigAccount.js");
const decorator_js_2 = require("./plugin-manager/decorator.js");
const index_js_1 = require("./plugins/multi-owner/index.js");
const index_js_2 = require("./plugins/multisig/index.js");
const middleware_js_1 = require("./plugins/multisig/middleware.js");
async function createMultiOwnerModularAccountClient({ account, transport, chain, ...clientConfig }) {
    const modularAccount = await (0, multiOwnerAccount_js_1.createMultiOwnerModularAccount)({
        ...account,
        transport,
        chain,
    });
    return (0, aa_core_1.createSmartAccountClient)({
        ...clientConfig,
        transport,
        chain,
        account: modularAccount,
    })
        .extend(decorator_js_2.pluginManagerActions)
        .extend(index_js_1.multiOwnerPluginActions)
        .extend(decorator_js_1.accountLoupeActions);
}
exports.createMultiOwnerModularAccountClient = createMultiOwnerModularAccountClient;
async function createMultisigModularAccountClient({ account, transport, chain, ...clientConfig }) {
    const modularAccount = await (0, multisigAccount_js_1.createMultisigModularAccount)({
        ...account,
        transport,
        chain,
    });
    const client = (0, aa_core_1.createSmartAccountClient)({
        ...clientConfig,
        transport,
        chain,
        account: modularAccount,
        signUserOperation: middleware_js_1.multisigSignatureMiddleware,
    })
        .extend(aa_core_1.smartAccountClientActions)
        .extend(decorator_js_2.pluginManagerActions)
        .extend(index_js_2.multisigPluginActions)
        .extend(decorator_js_1.accountLoupeActions);
    return client;
}
exports.createMultisigModularAccountClient = createMultisigModularAccountClient;
//# sourceMappingURL=client.js.map