"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildSessionKeysToRemoveStruct = void 0;
const aa_core_1 = require("@alchemy/aa-core");
const plugin_js_1 = require("./plugin.js");
const buildSessionKeysToRemoveStruct = async (client, { keys, pluginAddress, account = client.account }) => {
    if (!account)
        throw new aa_core_1.AccountNotFoundError();
    const contract = plugin_js_1.SessionKeyPlugin.getContract(client, pluginAddress);
    return (await Promise.all(keys.map(async (key) => {
        return [
            key,
            await contract.read.findPredecessor([account.address, key]),
        ];
    }))).map(([key, predecessor]) => ({
        sessionKey: key,
        predecessor,
    }));
};
exports.buildSessionKeysToRemoveStruct = buildSessionKeysToRemoveStruct;
//# sourceMappingURL=utils.js.map