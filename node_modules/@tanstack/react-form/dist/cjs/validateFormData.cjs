"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const decodeFormdata = require("decode-formdata");
const getValidateFormData = (defaultOpts) => async (formData, info) => {
  const { validatorAdapter, onServerValidate } = defaultOpts || {};
  const runValidator = (propsValue) => {
    if (validatorAdapter && typeof onServerValidate !== "function") {
      return validatorAdapter().validate(propsValue, onServerValidate);
    }
    return onServerValidate(propsValue);
  };
  const data = decodeFormdata.decode(formData, info);
  const onServerError = runValidator({ value: data });
  return {
    errorMap: {
      onServer: onServerError
    },
    errors: onServerError ? [onServerError] : []
  };
};
exports.getValidateFormData = getValidateFormData;
//# sourceMappingURL=validateFormData.cjs.map
